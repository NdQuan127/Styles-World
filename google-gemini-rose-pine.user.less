/* ==UserStyle==
@name Google Gemini Rose Pine
@namespace github.com/NdQuan127/Styles-World/
@homepageURL https://github.com/NdQuan127/Styles-World/blob/main/google-gemini-rose-pine.user.less
@version 1.0.0
@updateURL https://raw.githubusercontent.com/NdQuan127/Styles-World/refs/heads/main/google-gemini-rose-pine.user.less
@description All natural pine, faux fur and a bit of soho vibes for Google Gemini
@author Rose Pine
@license MIT

@preprocessor  less
@var select lightFlavor "Light Flavor" ["dawn:Dawn*"]
@var select darkFlavor "Dark Flavor" ["main:Main", "moon:Moon*"]
@var select accentColor "Accent" ["love:Love*", "gold:Gold", "rose:Rose", "pine:Pine", "foam:Foam", "iris:Iris"]
==/UserStyle== */

@-moz-document domain("gemini.google.com") {
  :root.light,
  :root[data-theme="light"] {
    #rosepine(@lightFlavor);
  }

  :root.dark,
  :root[data-theme="dark"] {
    #rosepine(@darkFlavor);
  }

  #rosepine(@flavor) {
    @base: @rosepine[@@flavor][@base];
    @surface: @rosepine[@@flavor][@surface];
    @overlay: @rosepine[@@flavor][@overlay];
    @muted: @rosepine[@@flavor][@muted];
    @subtle: @rosepine[@@flavor][@subtle];
    @text: @rosepine[@@flavor][@text];
    @love: @rosepine[@@flavor][@love];
    @gold: @rosepine[@@flavor][@gold];
    @rose: @rosepine[@@flavor][@rose];
    @pine: @rosepine[@@flavor][@pine];
    @foam: @rosepine[@@flavor][@foam];
    @iris: @rosepine[@@flavor][@iris];
    @highlightLow: @rosepine[@@flavor][@highlightLow];
    @highlightMed: @rosepine[@@flavor][@highlightMed];
    @highlightHigh: @rosepine[@@flavor][@highlightHigh];
    @accent: @rosepine[@@flavor][@@accentColor];
    
    // Map Rose Pine colors to Catppuccin-style variables for compatibility
    @rosewater: @rose;
    @flamingo: @love;
    @pink: @rose;
    @mauve: @iris;
    @red: @love;
    @maroon: @love;
    @peach: @gold;
    @yellow: @gold;
    @green: @pine;
    @teal: @foam;
    @sky: @foam;
    @sapphire: @foam;
    @blue: @foam;
    @lavender: @iris;
    @subtext1: @subtle;
    @subtext0: @muted;
    @overlay2: @overlay;
    @overlay1: @highlightMed;
    @overlay0: @highlightLow;
    @surface2: @surface;
    @surface1: @surface;
    @surface0: @overlay;
    @mantle: @surface;
    @crust: @base;

    --rp-base: @base;
    --rp-surface: @surface;
    --rp-overlay: @overlay;
    --rp-muted: @muted;
    --rp-subtle: @subtle;
    --rp-text: @text;
    --rp-love: @love;
    --rp-gold: @gold;
    --rp-rose: @rose;
    --rp-pine: @pine;
    --rp-foam: @foam;
    --rp-iris: @iris;
    --rp-highlightLow: @highlightLow;
    --rp-highlightMed: @highlightMed;
    --rp-highlightHigh: @highlightHigh;

    color-scheme: if(@flavor = dawn, light, dark);

    ::selection {
      background-color: fade(@accent, 30%);
    }

    input,
    textarea {
      &::placeholder {
        color: @muted !important;
      }
    }

    --bard-color-neutral-90: @surface;
    --bard-color-on-selected-conversation-metadata-v2: @text;
    --bard-color-surface-container: @surface;
    --bard-color-on-surface-opacity-38: @surface !important;
    --bard-color-surface-container-highest: lighten(@base, 5%);
    --bard-color-response-container-flipped-background: @overlay;
    --bard-color-inverse-on-surface: darken(@surface, 1%);
    --bard-color-sidenav-mobile-controls: @text;
    --bard-color-main-container-background: @base;
    --bard-color-main-container-background-rgb: #rgbify(@base)[];
    --bard-color-window-container-background: @base;
    --bard-color-response-container-background: @base;
    --bard-color-response-container-background-rgb: #rgbify(@base)[];
    --bard-color-onhover-conversation-metadata-button-v2: @surface;
    --bard-color-selected-conversation-metadata-button-v2: fade(
      @accent,
      40%
    );
    --bard-color-new-conversation-button: @overlay;
    --bard-color-on-new-conversation-button: @text;
    --bard-color-onhover-conversation-metadata-v2: @overlay;
    --bard-color-sidenav-upgrade-button: @overlay;
    --bard-color-form-field-placeholder: @muted;
    --bard-color-discovery-carousel-background: @surface;
    --bard-color-discovery-carousel-icon: @accent;
    --bard-color-example-prompt-background: @base;
    --bard-color-bard-mode-logo-prefix: @subtle;
    --bard-color-neutral-96: @base;
    --bard-color-adv-marketing-basic-background: @overlay;
    --bard-color-adv-marketing-product-background: @overlay;
    --bard-color-adv-marketing-disclaimer: @muted;
    --bard-color-input-area-buttons-selected-background: fade(
      @accent,
      70%
    );
    --bard-color-zero-state-card-selected: fade(@accent, 30%);
    --bard-color-zero-state-prompt-chip-background: fade(@accent, 50%);
    --bard-color-zero-state-prompt-chip-text: lighten(@accent, 5%);
    --bard-color-regular-banner: @accent;
    --bard-color-regular-banner-text: @base;
    --bard-color-skeleton-loader-background-1-rgb: #rgbify(@surface)[];
    --bard-color-skeleton-loader-background-2-rgb: #rgbify(@accent)[];
    --bard-color-skeleton-loader-background-3-rgb: #rgbify(@accent)[];
    --bard-color-brand-text-gradient-stop-1: @foam;
    --bard-color-brand-text-gradient-stop-2: @foam;
    --bard-color-brand-text-gradient-stop-3: @gold;
    --bard-color-on-surface-opacity-12: fade(@foam, 10%);
    --bard-color-footer-background: @surface;
    --bard-color-draft-chip-background: @overlay;
    --bard-color-processing-animation-color-1: @surface;
    --bard-color-processing-animation-color-2: @base;
    --bard-color-tunable-selection-button: @surface;
    --bard-color-tunable-selection-button-icon: @text;
    --bard-color-feedback-form-container-background: @surface;
    --bard-color-fact-check-tooltip-entailed-highlight: fade(@pine, 25%);
    --bard-color-fact-check-tooltip-entailed-selected: fade(@pine, 35%);
    --bard-color-fact-check-tooltip-contradictory-highlight: fade(@love, 25%);
    --bard-color-fact-check-tooltip-contradictory-selected: fade(@love, 40%);
    --bard-color-factuality-form-background: @surface;
    --bard-color-fact-check-button-complete: @overlay;
    --bard-color-fact-check-button-loading: @surface;
    --bard-color-tunable-selection-menu-text: @text;
    --bard-color-tunable-selection-menu-background: @surface;
    --bard-color-tunable-selection-textarea-background: @base;
    --bard-color-tunable-selection-shimmer-non-advanced: @accent;
    --bard-color-onegooglebar-product-controls: @text;
    --bard-color-adv-marketing-check: @text;

    --mdc-switch-selected-hover-handle-color: lighten(@accent, 10%);
    --mdc-switch-selected-focus-handle-color: lighten(@accent, 10%);
    --mdc-switch-selected-pressed-handle-color: lighten(@accent, 15%);
    --mdc-switch-selected-track-color: fade(@accent, 50%);
    --mdc-switch-selected-hover-track-color: fade(@accent, 50%);
    --mdc-switch-selected-focus-track-color: fade(@accent, 50%);
    --mdc-switch-selected-pressed-track-color: fade(@accent, 50%);
    --mdc-switch-selected-handle-color: @accent;
    --mdc-switch-unselected-handle-color: @muted;
    --mdc-switch-unselected-hover-handle-color: @subtle;
    --mdc-switch-unselected-focus-handle-color: @text;
    --mdc-switch-unselected-pressed-handle-color: @text;
    --mdc-switch-unselected-track-color: @surface;
    --mdc-switch-unselected-hover-track-color: @surface;
    --mdc-switch-unselected-pressed-track-color: @surface;
    --mdc-switch-unselected-focus-track-color: @surface;
    --mdc-checkbox-selected-icon-color: @accent;
    --mdc-checkbox-selected-checkmark-color: var(--gem-sys-color--on-primary);
    --mdc-checkbox-selected-hover-icon-color: @accent;
    --mdc-checkbox-selected-pressed-icon-color: @accent;
    --mdc-checkbox-selected-focus-icon-color: @accent;
    --mdc-checkbox-selected-focus-state-layer-color: @accent;
    --mdc-checkbox-selected-hover-state-layer-color: @accent;
    --mdc-checkbox-selected-pressed-state-layer-color: @text;
    --mdc-checkbox-unselected-pressed-state-layer-color: @accent;
    --mdc-checkbox-unselected-focus-state-layer-color: @text;
    --mdc-checkbox-unselected-hover-state-layer-color: @text;
    --mdc-checkbox-unselected-focus-icon-color: @text;
    --mdc-checkbox-unselected-icon-color: @subtle;
    --mdc-checkbox-unselected-hover-icon-color: @text;
    --mdc-text-button-label-text-color: @subtle;
    --mdc-text-button-hover-label-text-color: @overlay;
    --mdc-list-list-item-hover-label-text-color: @text;
    --mdc-filled-button-label-text-color: @base;
    --mdc-circular-progress-active-indicator-color: @accent;
    --mdc-outlined-button-focus-outline-color: @text;
    --mdc-outlined-button-hover-label-text-color: @subtle;
    --mdc-list-list-item-focus-label-text-color: @text;
    --mdc-icon-button-disabled-icon-color: @surface;
    --mdc-outlined-text-field-input-text-color: @text;
    --mdc-outlined-text-field-focus-outline-color: @accent;
    --mdc-outlined-text-field-outline-color: @overlay;

    --mat-app-text-color: @text;
    --mat-text-button-state-layer-color: @overlay;
    --mat-sidenav-container-text-color: @text;
    --mat-expansion-header-text-color: @text;
    --mat-expansion-header-indicator-color: @text;
    --mat-expansion-container-text-color: @text;
    --mat-checkbox-label-text-color: @text;
    --mat-bottom-sheet-container-text-color: @text;
    --mat-bottom-sheet-container-background-color: @base;
    --mat-menu-item-hover-state-layer-color: @overlay;
    --mat-menu-item-focus-state-layer-color: @overlay;
    --mat-menu-item-label-text-color: @text;
    --mat-menu-container-color: @base;
    --mat-menu-item-icon-color: @text;
    --mat-filled-button-state-layer-color: @overlay;
    --mat-focus-indicator-border-color: @accent;
    --mat-fab-small-hover-state-layer-opacity: 1;
    --mat-divider-color: @overlay;

    --gm-outlinedtextfield-outline-color: @muted;
    --gm-outlinedtextfield-outline-color--stateful: @accent;
    --gm-outlinedtextfield-ink-color: @text;
    --gm3-sys-color-on-secondary-container: @base;
    --gm3-sys-color-secondary-container: @text;

    --gem-sys-color--surface: @base;
    --gem-sys-color--surface-container: @surface;
    --gem-sys-color--surface--rgb: #rgbify(@base)[];
    --gem-sys-color--on-surface: @text;
    --gem-sys-color--on-surface-variant: @subtle;
    --gem-sys-color--outline-variant: @surface;
    --gem-sys-color--surface-container-high: @overlay;
    --gem-sys-color--surface-container-low: lighten(@surface, 2%);
    --gem-sys-color--outline: @muted;
    --gem-sys-color--on-primary-container: @text;
    --gem-sys-color--on-primary-fixed: darken(@accent, 40%);
    --gem-sys-color--on-primary: darken(@accent, 60%);
    --gem-sys-color--primary: @accent;
    --gem-sys-color--primary-container: fade(@accent, 60%);
    --gem-sys-color--on-surface--rgb: #rgbify(@muted)[];
    --gem-sys-color--surface-dim--rgb: #rgbify(@base)[];
    --gem-sys-color--surface-container-highest: @overlay;
    --gem-sys-color--primary-fixed: @text;
    --gem-sys-color--on-secondary: fade(@accent, 30%);
    --gem-sys-color--surface-variant: @overlay;

    --og-theme-color: @text;

    .action-icon {
      --gem-sys-color--on-primary: @accent;
      --gem-sys-color--on-surface-variant: @surface;
    }
    .draft-preview-label-chip.selected {
      color: @base;
    }
    .buttons-container-link-button {
      color: @base;
    }
    .mdc-text-field--outlined:hover:not(
      .mdc-text-field--disabled,
      .mdc-text-field--focused
    ) {
      .mdc-notched-outline__leading,
      .mdc-notched-outline__trailing {
        border-color: @text !important;
      }
    }
    .gmat-mdc-dialog .mat-mdc-dialog-container {
      .mdc-dialog__content {
        color: @muted;
      }
      .mdc-dialog__title {
        color: @text;
      }
    }
    .gmat-mdc-button.mat-mdc-outlined-button.mat-unthemed {
      --mdc-outlined-button-outline-color: @overlay;
      --mdc-outlined-button-label-text-color: @muted;
    }
    .gmat-mdc-button.mat-mdc-outlined-button {
      --mat-outlined-button-state-layer-color: @overlay;
    }
    .gmat-mdc-button.mat-mdc-outlined-button:not(
      .mat-mdc-button-disabled,
      [disabled],
      :disabled
    ).mdc-ripple-upgraded--background-focused,
    .gmat-mdc-button.mat-mdc-outlined-button:not(
      .mat-mdc-button-disabled,
      [disabled],
      :disabled,
      .mdc-ripple-upgraded
    ):focus {
      color: @text;
    }
    .gmat-mdc-chip {
      --mdc-chip-label-text-color: @muted;
    }
    .gmat-mdc-chip.gmat-hairline-chip {
      --mdc-chip-outline-color: @muted;
    }
    .gmat-mdc-chip.cdk-focused {
      --mdc-chip-label-text-color: @text;
    }
    .mat-mdc-standard-chip {
      --mdc-chip-hover-state-layer-color: @overlay;
      --mdc-chip-focus-state-layer-color: @overlay;
    }
    .mdc-tooltip__surface {
      --mdc-plain-tooltip-container-color: @overlay;
      --mdc-plain-tooltip-supporting-text-color: @text;
    }
    .mdc-form-field {
      --mdc-form-field-label-text-color: @text;
    }
    .mdc-icon-button {
      --mdc-icon-button-icon-color: @text !important;
    }
    .mdc-dialog__surface {
      background-color: @base !important;
    }
    .expandable-button:disabled {
      color: rgba(var(--gem-sys-color--on-surface--rgb), 0.38);
    }
    .mat-mdc-progress-bar {
      --mdc-linear-progress-active-indicator-color: @accent;
      --mdc-linear-progress-track-color: fade(@accent, 50%);
    }
    .mdc-list-item,
    .gmat-mdc-list {
      --mdc-list-list-item-hover-state-layer-color: @overlay;
      --mdc-list-list-item-label-text-color: @text;
      --mdc-list-list-item-leading-icon-color: @text;
      --mdc-list-list-item-focus-state-layer-color: @overlay;
    }
    .gmat-mdc-button.mat-mdc-button.mat-primary {
      --mdc-text-button-label-text-color: @accent;
      --mdc-text-button-hover-label-text-color: lighten(@accent, 5%);
      --mdc-text-button-focus-label-text-color: lighten(@accent, 8%);
    }
    .gmat-mdc-button.mat-mdc-button.mat-unthemed {
      --mat-text-button-state-layer-color: @overlay;
    }
    .gmat-mdc-button.mat-mdc-icon-button {
      --mat-icon-button-state-layer-color: @overlay;
    }
    .gmat-mdc-button.mat-mdc-fab:not(
      .mat-mdc-button-disabled
    ).mat-primary.gmat-mdc-fab-fill {
      --mdc-fab-container-color: @accent;
      --mat-fab-foreground-color: @base;
    }
    .gmat-mdc-button.mat-mdc-mini-fab:not(
      .mat-mdc-button-disabled
    ).mat-primary.gmat-mdc-fab-outline {
      --mat-fab-small-state-layer-color: @overlay;
    }
    .mat-mdc-fab:not(.mdc-riple-upgraded):focus::before,
    .mat-mdc-mini-fab:not(.mdc-riple-upgraded):focus::before {
      background: @surface;
    }
    .mat-mdc-menu-panel {
      background-color: @base !important;
    }
    .mat-mdc-fab.mat-accent {
      --mat-fab-foreground-color: @text;
    }
    .xap-count-badge-dot {
      background-color: @love;
    }
    & when (@flavor = dawn) {
      --gem-sys-color--on-primary-fixed: @accent;
      --gem-sys-color--on-primary: @surface;
      --gem-sys-color--primary-fixed: @base;
    }
    [data-mat-icon-name="search"] svg {
      > path:nth-child(1) {
        fill: @foam;
      }
      > path:nth-child(2) {
        fill: @pine;
      }
      > path:nth-child(3) {
        fill: @gold;
      }
      > path:nth-child(4) {
        fill: @love;
      }
    }
    .google-logo img {
      @svg: escape(
        '<svg xmlns="http://www.w3.org/2000/svg" width="148" height="48" viewBox="0 0 148 48"><path d="M113 2.43h4.93v33.53H113zM49.5 14.04c-6.31 0-11.45 4.82-11.45 11.46 0 6.6 5.14 11.46 11.45 11.46S60.95 32.1 60.95 25.5c0-6.64-5.14-11.46-11.45-11.46m0 18.4c-3.46 0-6.44-2.86-6.44-6.94 0-4.12 2.98-6.94 6.44-6.94s6.44 2.82 6.44 6.94c0 4.08-2.98 6.94-6.44 6.94m25-18.35c-6.31 0-11.45 4.82-11.45 11.46 0 6.6 5.14 11.46 11.45 11.46s11.45-4.86 11.45-11.46c0-6.65-5.14-11.46-11.45-11.46m0 18.4c-3.46 0-6.44-2.86-6.44-6.94 0-4.12 2.98-6.94 6.44-6.94s6.44 2.82 6.44 6.94c0 4.07-2.98 6.94-6.44 6.94m30.73-15.84h-.17c-1.13-1.34-3.3-2.56-6.03-2.56-5.73 0-10.98 5.03-10.98 11.5C88.05 32.01 93.3 37 99.03 37c2.73 0 4.9-1.22 6.03-2.6h.17v1.65c0 4.38-2.34 6.73-6.12 6.73-3.08 0-4.99-2.21-5.77-4.08l-4.38 1.82c1.26 3.04 4.6 6.77 10.15 6.77 5.9 0 10.89-3.47 10.89-11.93V15h-4.77zm-5.78 15.84c-3.47 0-6.38-2.91-6.38-6.9 0-4.04 2.91-6.99 6.38-6.99 3.43 0 6.12 2.95 6.12 6.99 0 3.99-2.69 6.9-6.12 6.9m-71.22-4.08c1.39-1.39 2.32-3.42 2.67-6.41H19.22v-4.76H35.6c.17.87.3 2.06.3 3.2 0 3.66-1 8.19-4.22 11.41-3.14 3.27-7.14 5.01-12.46 5.01C9.38 36.86 1.1 28.84 1.1 19S9.38 1.14 19.22 1.14c5.44 0 9.32 2.13 12.24 4.92L28.02 9.5c-2.09-1.96-4.92-3.48-8.8-3.48-7.19 0-12.81 5.79-12.81 12.98s5.62 12.98 12.81 12.98c4.66 0 7.32-1.87 9.01-3.57m103.54 4.08c-2.56 0-4.38-1.17-5.55-3.47l15.32-6.34-.52-1.3c-.95-2.56-3.86-7.29-9.81-7.29-5.9 0-10.81 4.64-10.81 11.46 0 6.42 4.86 11.46 11.37 11.46 5.25 0 8.29-3.21 9.55-5.08l-3.91-2.6c-1.3 1.9-3.08 3.16-5.64 3.16m-.39-13.98c2 0 3.69 1 4.25 2.43l-10.24 4.25c-.13-4.42 3.43-6.68 5.99-6.68" fill="@{subtle}"/></svg>'
      );
      content: url("data:image/svg+xml,@{svg}");
    }
    [src="https://www.gstatic.com/lamda/images/replit_dark_24px_7d0347bf84c2570074db9.svg"],
    [src="https://www.gstatic.com/lamda/images/replit_light_24px_3a2ee6003110f3c8460c9.svg"] {
      @svg: escape(
        '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.334 8.669H5.252A1.25 1.25 0 0 1 4 7.417V3.252C4 2.559 4.56 2 5.252 2h5.83c.693 0 1.252.56 1.252 1.252z" fill="@{text}"/><path d="M19.416 15.333h-7.082V8.668h7.082c.689 0 1.248.56 1.248 1.248v4.165a1.25 1.25 0 0 1-1.248 1.252M11.082 22h-5.83a1.25 1.25 0 0 1-1.248-1.247v-4.165c0-.689.56-1.248 1.248-1.248h7.082v5.417c0 .68-.56 1.243-1.252 1.243" fill="@{text}"/></svg>'
      );
      content: url("data:image/svg+xml,@{svg}");
    }

    /* Gemini Advanced shadows */
    chat-window > div > input-container {
      background: unset;
    }
    input-container::before {
      background: unset;
    }
  }
}

#rgbify(@color) {
  @rgb: red(@color), green(@color), blue(@color);
}

/* Rose Pine Color Palette Definition */
@rosepine: {
  @main: {
    @base: #191724;
    @surface: #1f1d2e;
    @overlay: #26233a;
    @muted: #6e6a86;
    @subtle: #908caa;
    @text: #e0def4;
    @love: #eb6f92;
    @gold: #f6c177;
    @rose: #ebbcba;
    @pine: #31748f;
    @foam: #9ccfd8;
    @iris: #c4a7e7;
    @highlightLow: #21202e;
    @highlightMed: #403d52;
    @highlightHigh: #524f67;
  };
  @moon: {
    @base: #232136;
    @surface: #2a273f;
    @overlay: #393552;
    @muted: #6e6a86;
    @subtle: #908caa;
    @text: #e0def4;
    @love: #eb6f92;
    @gold: #f6c177;
    @rose: #ea9a97;
    @pine: #3e8fb0;
    @foam: #9ccfd8;
    @iris: #c4a7e7;
    @highlightLow: #2a283e;
    @highlightMed: #44415a;
    @highlightHigh: #56526e;
  };
  @dawn: {
    @base: #faf4ed;
    @surface: #fffaf3;
    @overlay: #f2e9e1;
    @muted: #9893a5;
    @subtle: #797593;
    @text: #575279;
    @love: #b4637a;
    @gold: #ea9d34;
    @rose: #d7827e;
    @pine: #286983;
    @foam: #56949f;
    @iris: #907aa9;
    @highlightLow: #f4ede8;
    @highlightMed: #dfdad9;
    @highlightHigh: #cecacd;
  };
} 